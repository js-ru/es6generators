# Генерация последовательности

Функции-генераторы очень полезны для генерации сложных последовательностей. Мы можем инкапсулировать логику генерации в функцию и защитить пользователя от внутренних деталей.

В коде ниже функция-генератор `numbers` имеет сложную логику генерации последовательности значений.

```js
function *numbers() {
  for (let i = 0; i < 20; i++) {
    if (i < 5) {
      yield i;
    } else if (i < 10 && i % 2 === 0) {
      yield i * 2;
    } else if (i < 15 && i % 3 === 0) {
      yield i * 3;
    } else if (i % 7 === 0) {
      yield i * 7;
    }
  }
}

debug(numbers());
// -> Выведет числа: 0, 1, 2, 3, 4, 12, 49, 16, 27, 36, 98
```

Для более сложных сценариев мы также можем использовать `yield*` для комбинирования последовательностей. Предположим, что у нас есть система, которая хранит информацию о пользователях как в файловой системе, так и в базе данных. Мы можем использовать следующий код, чтобы вернуть последовательность всех пользователей.

```js
function *loadUsers() {
  yield 'annoymous';
  yield* loadFromFile();
  yield* loadFromDb();
}
```

I> В реальных случаях функции `loadUsers` и `loadFromDb` обычно возвращают объекты `Promise`. Тогда следует использовать [co](#co).
