# Базовые генераторы {#basic-generators}

Начнём с простой функции-генератора. Разница между функцией-генератором и обычной функцией заключается в символе `*` между ключевым словом `function` и именем функции. 

```js
function *sample() {
  yield 1;
  yield 2;
  yield 3;
}
```

I> Допустимы варианты `function* sample()`, `function *sample()` или `function * sample()`. Разработчики в команде могут выбрать формат, который им больше нравится.
В этой книге используется вариант `function *sample()` как настройка по умолчанию в [ESLint](http://eslint.org/docs/rules/generator-star-spacing).

Объект-генератор может отдавать несколько значений при каждом вызове метода `next()`. Эти значения определяются с помощью ключевого слова `yield`. В примере выше в функции-генераторе три выражения `yield` могут сгенерировать три значения `1`, `2` и `3` при вызове метода `next()` у объекта-генератора.

```js
let func = sample();
func.next();
// -> {value: 1, done: false}
func.next();
// -> {value: 2, done: false}
func.next();
// -> {value: 3, done: false}
func.next();
// -> {value: undefined, done: true}
func.next();
// -> {value: undefined, done: true}
```

В коде выше вызов функции-генератора `sample` генерирует объект-генератор `func`. Выполнение объекта-генератора `func` изначально приостановлено. Когда у объекта `func` вызывается метод `next`, он начинает выполняться, работает до первого выражения `yield` и возвращает значение `1`. Возвращается объект с двумя свойствами: `value` и `done`. `value` содержит значение, переданное в выражении `yield`, а `done` может использоваться для проверки, доступны ли ещё значения или нет. Свойство `done` равно `false` для первых трёх вызовов метода `next`. В четвёртом вызове свойство `done` становится равно `true`, это значает, что значений больше нет.

## Приостановка и возобновление выполнения

Мощность генераторов заключается в возможности приостановить и возобновить выполнение объекта-генератора. Объект-генератор можно рассматривать как конечный автомат. Каждый экземпляр одной и той же функции-генератора хранит собственное состояние. Вызов метода `next()` у объекта-генератора запускает изменение состояния внутри объекта, в результате чего объект переходит к следующему выражению `yield`. Это продолжается до тех пор, пока не останется выражений `yield`.

В коде ниже два объекта-генератора `func1` и `func2` поддерживают своё собственное состояние. Вызов `next()` у одного объекта не влияет на состояние другого.

```js
let func1 = sample();
let func2 = sample();
func1.next();
// -> {value: 1, done: false}
func2.next();
// -> {value: 1, done: false}
func1.next();
// -> {value: 2, done: false}
```

## Проверка типов функций-генераторов и объектов-генераторов

Для проверки типа функций-генераторов и объектов-генераторов можно использовать `Object.prototype.toString`.

```js
function *sample() {

}

Object.prototype.toString.apply(sample);
// -> "[object GeneratorFunction]"

Object.prototype.toString.apply(sample());
// -> "[object Generator]"
```
