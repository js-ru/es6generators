# Использование `return` в генераторах {#return-in-generators}

В функции-генератора мы также можем использовать оператор `return`. Возвращаемое значение передаётся в код, вызвавший метод `next()` у объекта-генератора. `return` также завершает выполнение объекта-генератора, т.е. свойство` done` устанавливается в значение `true`. В приведённом ниже коде возвращаемое значение второго вызова `next(1)` будет значением `return`, т.е. `x + 2`.

```js
function *withReturn() {
  let x = yield 1;
  return x + 2;
}

let func = withReturn();
func.next();
// -> {value: 1, done: false}
func.next(1);
// -> {value: 3, done: true}
func.next();
// -> {value: undefined, done: true}
```

## Бесконечные значения


Объект-генератор может генерировать бесконечное число значений, т.е. свойство `done` всегда будет `false`. Например, мы можем создать генератор, который генерирует бесконечные целые числа, начиная с `0`. В этом случае мы можем использовать `return` для завершения работы объектов-генератора.

В приведенном ниже коде `loop` продолжает генерировать инкрементные значения в цикле `while`. Когда истинное значение передаётся `next()` в качестве значения `shouldExit`, возвращается последнее значение и объект-генератор завершает выполнение.

```js
function *loop() {
  var count = 0;
  while (true) {
    let shouldExit = yield count++;
    if (shouldExit) {
      return count++;
    }
  }
}
```

Как показано в коде ниже, три значения генерируются с помощью `next()`. Четвёртый вызов `next (true)` завершает выполнение объекта-генератора `func`.

```js
let func = loop();
func.next();
// -> {value: 0, done: false}
func.next();
// -> {value: 1, done: false}
func.next();
// -> {value: 2, done: false}
func.next(true);
// -> {value: 3, done: true}
func.next();
// -> {value: undefined, done: true}
```
